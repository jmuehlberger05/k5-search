import { Component, input } from '@angular/core';
import { FormControl, ReactiveFormsModule } from '@angular/forms';

@Component({
    selector: 'app-search-input',
    standalone: true,
    imports: [ReactiveFormsModule],
    template: `
        <div
            class="grid grid-cols-[1fr_auto] bg-gray-100 border-gray-200 border-b-[1px]"
        >
            <div
                class="grid grid-cols-[auto_1fr] focus-within:outline outline-2 outline-slate-300 outline-offset-[-2px] rounded-ss-xl"
            >
                <div class="grid place-content-center aspect-square">
                    <svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <g clip-path="url(#clip0_41_1287)">
                            <path
                                d="M15 8.125C15 7.22216 14.8222 6.32817 14.4767 5.49405C14.1312 4.65994 13.6248 3.90204 12.9864 3.26364C12.348 2.62524 11.5901 2.11883 10.7559 1.77333C9.92184 1.42783 9.02784 1.25 8.125 1.25C7.22216 1.25 6.32817 1.42783 5.49405 1.77333C4.65994 2.11883 3.90204 2.62524 3.26364 3.26364C2.62524 3.90204 2.11883 4.65994 1.77333 5.49405C1.42783 6.32817 1.25 7.22216 1.25 8.125C1.25 9.02784 1.42783 9.92184 1.77333 10.7559C2.11883 11.5901 2.62524 12.348 3.26364 12.9864C3.90204 13.6248 4.65994 14.1312 5.49405 14.4767C6.32817 14.8222 7.22216 15 8.125 15C9.02784 15 9.92184 14.8222 10.7559 14.4767C11.5901 14.1312 12.348 13.6248 12.9864 12.9864C13.6248 12.348 14.1312 11.5901 14.4767 10.7559C14.8222 9.92184 15 9.02784 15 8.125ZM13.4102 14.2969C11.9922 15.5156 10.1445 16.25 8.125 16.25C3.63672 16.25 0 12.6133 0 8.125C0 3.63672 3.63672 0 8.125 0C12.6133 0 16.25 3.63672 16.25 8.125C16.25 10.1445 15.5156 11.9922 14.2969 13.4102L19.8164 18.9336C20.0586 19.1758 20.0586 19.5742 19.8164 19.8164C19.5742 20.0586 19.1758 20.0586 18.9336 19.8164L13.4102 14.2969Z"
                                fill="black"
                            />
                        </g>
                        <defs>
                            <clipPath id="clip0_41_1287">
                                <rect width="20" height="20" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                <input
                    class="bg-transparent pr-4 py-4 w-full focus-within:outline-none"
                    [formControl]="searchControl()"
                    type="text"
                    placeholder="Search..."
                />
            </div>
            <button
                class="grid place-content-center aspect-square border-gray-200 border-l-[1px] hover:bg-gray-200 rounded-se-xl  focus-within:outline outline-2 outline-slate-300 outline-offset-[-2px] "
            >
                <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M13.75 0.624481V3.12448H16.25C16.5937 3.12448 16.875 3.40573 16.875 3.74948C16.875 4.09323 16.5937 4.37448 16.25 4.37448H13.75V6.87448C13.75 7.21823 13.4687 7.49948 13.125 7.49948C12.7812 7.49948 12.5 7.21823 12.5 6.87448V4.37448H9.99999C9.65624 4.37448 9.37499 4.09323 9.37499 3.74948C9.37499 3.40573 9.65624 3.12448 9.99999 3.12448H12.5V0.624481C12.5 0.280731 12.7812 -0.000518799 13.125 -0.000518799C13.4687 -0.000518799 13.75 0.280731 13.75 0.624481ZM5.96874 10.3706C5.78515 10.7417 5.43358 10.9956 5.02733 11.0542L1.60937 11.5542L4.08593 13.9721C4.3789 14.2573 4.51562 14.6714 4.4453 15.0776L3.85937 18.4878L6.91405 16.8784C7.27734 16.687 7.71484 16.687 8.07812 16.8784L11.1328 18.4878L10.5469 15.0776C10.4766 14.6714 10.6133 14.2612 10.9062 13.9721L13.3828 11.5542L9.96484 11.0581C9.55859 10.9995 9.20702 10.7417 9.02343 10.3745L7.49608 7.27292L5.96874 10.3745V10.3706ZM6.65624 6.14792C6.99999 5.4487 7.99609 5.4487 8.33984 6.14792L10.1484 9.81979L14.1914 10.4096C14.9609 10.5229 15.2656 11.4643 14.7109 12.0073L11.7851 14.8667L12.4766 18.9018C12.6094 19.6674 11.8047 20.2534 11.1172 19.8901L7.49999 17.9839L3.8789 19.8901C3.1914 20.2534 2.38671 19.6674 2.51952 18.9018L3.21093 14.8667L0.281241 12.0073C-0.273446 11.4643 0.0351475 10.519 0.800772 10.4096L4.84374 9.81979L6.65234 6.14792H6.65624ZM17.5 6.24948C17.8437 6.24948 18.125 6.53073 18.125 6.87448V8.12448H19.375C19.7187 8.12448 20 8.40573 20 8.74948C20 9.09323 19.7187 9.37448 19.375 9.37448H18.125V10.6245C18.125 10.9682 17.8437 11.2495 17.5 11.2495C17.1562 11.2495 16.875 10.9682 16.875 10.6245V9.37448H15.625C15.2812 9.37448 15 9.09323 15 8.74948C15 8.40573 15.2812 8.12448 15.625 8.12448H16.875V6.87448C16.875 6.53073 17.1562 6.24948 17.5 6.24948Z"
                        fill="black"
                    />
                </svg>
            </button>
        </div>
    `,
})
export class SearchInputComponent {
    public searchControl = input.required<FormControl<string>>();
}
